<div class="espacio"></div>
<div class="d-flex" style="justify-content: space-between">
    <h3>Lista de facturas</h3>
    <div>
      <a routerLink="registrar" class="btn btn-primary" style="margin-left: auto">Registrar Factura</a>
    </div>
</div>

<!-- style="display: flex;align-items: flex-end;" -->
<p>{{formatFecha(range.value.start)}} - {{formatFecha(range.value.end)}}</p>
<div style="display: flex;align-items: flex-end; gap: 20px;">
  <div>
    <mat-date-range-input [formGroup]="range" [rangePicker]="picker" class="hidden">
      <input matStartDate formControlName="start" class="hidden">
      <input matEndDate formControlName="end" class="hidden">
    </mat-date-range-input>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker class="hidden"></mat-date-range-picker>
  </div>
  <div class="form-group">
    <label for="cliente">Cliente</label>
    <input id="cliente" type="text" [(ngModel)]="nombreCliente">
  </div>  
  <button class="btn btn-secondary" (click)="filtrar()">Aplicar</button>
  <button class="btn btn-secondary" (click)="clear()">Limpiar</button>
</div>

<div class="espacio"></div>
<div *ngIf="listaFacturas.length > 0; else elseBlock">
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th scope="column">ID</th>
            <th scope="column">Fecha</th>
            <th scope="column">Cliente</th>
            <th scope="column">total</th>
            <th scope="column"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let factura of listaFacturas">
            <th scope="row">{{ factura.id }}</th>
            <td>{{ factura.fecha }}</td>
            <td>{{ factura.cliente.nombreApellido }}</td>
            <td class="guaranies">{{ factura.total }}</td>
            <td>
                <div class="d-flex flex-column flex-md-row" style="gap: 10px;">
                    <a [routerLink]="['verDetalle', factura.id]" class="btn btn-secondary">Ver detalle</a>
                </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <ng-template #elseBlock>
    <div class="espacio"></div>
    <div class="sinData">
      <p class="letterBig">Sin datos</p>
    </div>
  </ng-template>
  
  <router-outlet></router-outlet>